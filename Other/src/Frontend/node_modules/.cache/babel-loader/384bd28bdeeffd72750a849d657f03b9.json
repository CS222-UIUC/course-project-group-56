{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar React = require('react');\n\nvar core = require('@react-pdf-viewer/core');\n\nvar BookmarkItem = function (_a) {\n  var bookmark = _a.bookmark,\n      depth = _a.depth,\n      doc = _a.doc,\n      onClick = _a.onClick,\n      onJumpToDest = _a.onJumpToDest;\n  var toggleRef = React.createRef();\n  var subItemRef = React.createRef();\n  var subItemsDisplayed = React.useRef(true);\n  var hasSubItems = bookmark.items && bookmark.items.length > 0;\n\n  var toggleSubItems = function () {\n    subItemsDisplayed.current = !subItemsDisplayed.current;\n    var subItemsEle = subItemRef.current;\n    var toggleEle = toggleRef.current;\n\n    if (!subItemsEle || !toggleEle) {\n      return;\n    }\n\n    subItemsEle.style.display = subItemsDisplayed.current ? 'block' : 'none';\n    toggleEle.classList.toggle('rpv-bookmark-toggle-expanded');\n  };\n\n  var clickBookmak = function () {\n    if (hasSubItems && bookmark.dest) {\n      onClick(bookmark.dest);\n    }\n  };\n\n  var clickItem = function () {\n    if (!hasSubItems && bookmark.dest) {\n      onClick(bookmark.dest);\n    }\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n    className: 'rpv-bookmark-item',\n    style: {\n      paddingLeft: depth * 20 + 4 + \"px\"\n    },\n    onClick: clickItem\n  }, hasSubItems && React.createElement(\"span\", {\n    ref: toggleRef,\n    className: 'rpv-bookmark-toggle',\n    onClick: toggleSubItems\n  }, \"\\u25BA\"), bookmark.url ? React.createElement(\"a\", {\n    className: 'rpv-bookmark-title',\n    href: bookmark.url,\n    rel: 'noopener noreferrer nofollow',\n    target: bookmark.newWindow ? '_blank' : ''\n  }, bookmark.title) : React.createElement(\"div\", {\n    className: 'rpv-bookmark-title',\n    onClick: clickBookmak\n  }, bookmark.title)), hasSubItems && React.createElement(\"div\", {\n    ref: subItemRef\n  }, React.createElement(BookmarkList, {\n    bookmarks: bookmark.items,\n    depth: depth + 1,\n    doc: doc,\n    onJumpToDest: onJumpToDest\n  })));\n};\n\nvar BookmarkList = function (_a) {\n  var bookmarks = _a.bookmarks,\n      _b = _a.depth,\n      depth = _b === void 0 ? 0 : _b,\n      doc = _a.doc,\n      onJumpToDest = _a.onJumpToDest;\n\n  var jumpToDest = function (dest) {\n    core.getDestination(doc, dest).then(function (target) {\n      var pageIndex = target.pageIndex,\n          bottomOffset = target.bottomOffset,\n          scaleTo = target.scaleTo;\n      onJumpToDest(pageIndex + 1, bottomOffset, scaleTo);\n    });\n  };\n\n  return React.createElement(\"ul\", {\n    className: 'rpv-bookmark-list'\n  }, bookmarks.map(function (bookmark, index) {\n    return React.createElement(\"li\", {\n      key: index\n    }, React.createElement(BookmarkItem, {\n      bookmark: bookmark,\n      depth: depth,\n      doc: doc,\n      onClick: jumpToDest,\n      onJumpToDest: onJumpToDest\n    }));\n  }));\n};\n\nvar BookmarkLoader = function (_a) {\n  var doc = _a.doc,\n      onJumpToDest = _a.onJumpToDest;\n  var l10n = React.useContext(core.LocalizationContext);\n\n  var _b = React.useState({\n    isLoaded: false,\n    items: []\n  }),\n      bookmarks = _b[0],\n      setBookmarks = _b[1];\n\n  React.useEffect(function () {\n    setBookmarks({\n      isLoaded: false,\n      items: []\n    });\n    doc.getOutline().then(function (outline) {\n      setBookmarks({\n        isLoaded: true,\n        items: outline || []\n      });\n    });\n  }, [doc]);\n  return !bookmarks.isLoaded ? React.createElement(core.Spinner, null) : bookmarks.items.length === 0 ? React.createElement(\"div\", {\n    className: 'rpv-bookmark-empty'\n  }, l10n && l10n.bookmark ? l10n.bookmark.noBookmark : 'There is no bookmark') : React.createElement(BookmarkList, {\n    bookmarks: bookmarks.items,\n    depth: 0,\n    doc: doc,\n    onJumpToDest: onJumpToDest\n  });\n};\n\nvar BookmarkListWithStore = function (_a) {\n  var store = _a.store;\n\n  var _b = React.useState(store.get('doc')),\n      currentDoc = _b[0],\n      setCurrentDoc = _b[1];\n\n  var handleDocumentChanged = function (doc) {\n    setCurrentDoc(doc);\n  };\n\n  var jump = function (pageIndex, bottomOffset, scaleTo) {\n    var jumpToDestination = store.get('jumpToDestination');\n\n    if (jumpToDestination) {\n      jumpToDestination(pageIndex, bottomOffset, 0, scaleTo);\n    }\n  };\n\n  React.useEffect(function () {\n    store.subscribe('doc', handleDocumentChanged);\n    return function () {\n      store.unsubscribe('doc', handleDocumentChanged);\n    };\n  }, []);\n  return currentDoc ? React.createElement(BookmarkLoader, {\n    doc: currentDoc,\n    onJumpToDest: jump\n  }) : React.createElement(\"div\", {\n    className: 'rpv-bookmark-list-loader'\n  }, React.createElement(core.Spinner, null));\n};\n\nvar bookmarkPlugin = function () {\n  var store = React.useMemo(function () {\n    return core.createStore({});\n  }, []);\n\n  var BookmarksDecorator = function () {\n    return React.createElement(BookmarkListWithStore, {\n      store: store\n    });\n  };\n\n  return {\n    install: function (pluginFunctions) {\n      store.update('jumpToDestination', pluginFunctions.jumpToDestination);\n    },\n    onDocumentLoad: function (props) {\n      store.update('doc', props.doc);\n    },\n    Bookmarks: BookmarksDecorator\n  };\n};\n\nexports.bookmarkPlugin = bookmarkPlugin;","map":{"version":3,"sources":["/Users/adityaasthana/cs222/Upload-View-Pdf-In-Reactjs-main/node_modules/@react-pdf-viewer/bookmark/lib/cjs/bookmark.js"],"names":["Object","defineProperty","exports","value","React","require","core","BookmarkItem","_a","bookmark","depth","doc","onClick","onJumpToDest","toggleRef","createRef","subItemRef","subItemsDisplayed","useRef","hasSubItems","items","length","toggleSubItems","current","subItemsEle","toggleEle","style","display","classList","toggle","clickBookmak","dest","clickItem","createElement","Fragment","className","paddingLeft","ref","url","href","rel","target","newWindow","title","BookmarkList","bookmarks","_b","jumpToDest","getDestination","then","pageIndex","bottomOffset","scaleTo","map","index","key","BookmarkLoader","l10n","useContext","LocalizationContext","useState","isLoaded","setBookmarks","useEffect","getOutline","outline","Spinner","noBookmark","BookmarkListWithStore","store","get","currentDoc","setCurrentDoc","handleDocumentChanged","jump","jumpToDestination","subscribe","unsubscribe","bookmarkPlugin","useMemo","createStore","BookmarksDecorator","install","pluginFunctions","update","onDocumentLoad","props","Bookmarks"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar React = require('react');\nvar core = require('@react-pdf-viewer/core');\n\nvar BookmarkItem = function (_a) {\n    var bookmark = _a.bookmark, depth = _a.depth, doc = _a.doc, onClick = _a.onClick, onJumpToDest = _a.onJumpToDest;\n    var toggleRef = React.createRef();\n    var subItemRef = React.createRef();\n    var subItemsDisplayed = React.useRef(true);\n    var hasSubItems = bookmark.items && bookmark.items.length > 0;\n    var toggleSubItems = function () {\n        subItemsDisplayed.current = !subItemsDisplayed.current;\n        var subItemsEle = subItemRef.current;\n        var toggleEle = toggleRef.current;\n        if (!subItemsEle || !toggleEle) {\n            return;\n        }\n        subItemsEle.style.display = subItemsDisplayed.current ? 'block' : 'none';\n        toggleEle.classList.toggle('rpv-bookmark-toggle-expanded');\n    };\n    var clickBookmak = function () {\n        if (hasSubItems && bookmark.dest) {\n            onClick(bookmark.dest);\n        }\n    };\n    var clickItem = function () {\n        if (!hasSubItems && bookmark.dest) {\n            onClick(bookmark.dest);\n        }\n    };\n    return (React.createElement(React.Fragment, null,\n        React.createElement(\"div\", { className: 'rpv-bookmark-item', style: {\n                paddingLeft: depth * 20 + 4 + \"px\",\n            }, onClick: clickItem },\n            hasSubItems && (React.createElement(\"span\", { ref: toggleRef, className: 'rpv-bookmark-toggle', onClick: toggleSubItems }, \"\\u25BA\")),\n            bookmark.url\n                ? (React.createElement(\"a\", { className: 'rpv-bookmark-title', href: bookmark.url, rel: 'noopener noreferrer nofollow', target: bookmark.newWindow ? '_blank' : '' }, bookmark.title))\n                : (React.createElement(\"div\", { className: 'rpv-bookmark-title', onClick: clickBookmak }, bookmark.title))),\n        hasSubItems && (React.createElement(\"div\", { ref: subItemRef },\n            React.createElement(BookmarkList, { bookmarks: bookmark.items, depth: depth + 1, doc: doc, onJumpToDest: onJumpToDest })))));\n};\n\nvar BookmarkList = function (_a) {\n    var bookmarks = _a.bookmarks, _b = _a.depth, depth = _b === void 0 ? 0 : _b, doc = _a.doc, onJumpToDest = _a.onJumpToDest;\n    var jumpToDest = function (dest) {\n        core.getDestination(doc, dest).then(function (target) {\n            var pageIndex = target.pageIndex, bottomOffset = target.bottomOffset, scaleTo = target.scaleTo;\n            onJumpToDest(pageIndex + 1, bottomOffset, scaleTo);\n        });\n    };\n    return (React.createElement(\"ul\", { className: 'rpv-bookmark-list' }, bookmarks.map(function (bookmark, index) {\n        return (React.createElement(\"li\", { key: index },\n            React.createElement(BookmarkItem, { bookmark: bookmark, depth: depth, doc: doc, onClick: jumpToDest, onJumpToDest: onJumpToDest })));\n    })));\n};\n\nvar BookmarkLoader = function (_a) {\n    var doc = _a.doc, onJumpToDest = _a.onJumpToDest;\n    var l10n = React.useContext(core.LocalizationContext);\n    var _b = React.useState({\n        isLoaded: false,\n        items: [],\n    }), bookmarks = _b[0], setBookmarks = _b[1];\n    React.useEffect(function () {\n        setBookmarks({\n            isLoaded: false,\n            items: [],\n        });\n        doc.getOutline().then(function (outline) {\n            setBookmarks({\n                isLoaded: true,\n                items: outline || [],\n            });\n        });\n    }, [doc]);\n    return (!bookmarks.isLoaded\n        ? React.createElement(core.Spinner, null)\n        : (bookmarks.items.length === 0\n            ? React.createElement(\"div\", { className: 'rpv-bookmark-empty' }, l10n && l10n.bookmark ? l10n.bookmark.noBookmark : 'There is no bookmark')\n            : (React.createElement(BookmarkList, { bookmarks: bookmarks.items, depth: 0, doc: doc, onJumpToDest: onJumpToDest }))));\n};\n\nvar BookmarkListWithStore = function (_a) {\n    var store = _a.store;\n    var _b = React.useState(store.get('doc')), currentDoc = _b[0], setCurrentDoc = _b[1];\n    var handleDocumentChanged = function (doc) {\n        setCurrentDoc(doc);\n    };\n    var jump = function (pageIndex, bottomOffset, scaleTo) {\n        var jumpToDestination = store.get('jumpToDestination');\n        if (jumpToDestination) {\n            jumpToDestination(pageIndex, bottomOffset, 0, scaleTo);\n        }\n    };\n    React.useEffect(function () {\n        store.subscribe('doc', handleDocumentChanged);\n        return function () {\n            store.unsubscribe('doc', handleDocumentChanged);\n        };\n    }, []);\n    return (currentDoc\n        ? (React.createElement(BookmarkLoader, { doc: currentDoc, onJumpToDest: jump }))\n        : React.createElement(\"div\", { className: 'rpv-bookmark-list-loader' },\n            React.createElement(core.Spinner, null)));\n};\n\nvar bookmarkPlugin = function () {\n    var store = React.useMemo(function () { return core.createStore({}); }, []);\n    var BookmarksDecorator = function () { return (React.createElement(BookmarkListWithStore, { store: store })); };\n    return {\n        install: function (pluginFunctions) {\n            store.update('jumpToDestination', pluginFunctions.jumpToDestination);\n        },\n        onDocumentLoad: function (props) {\n            store.update('doc', props.doc);\n        },\n        Bookmarks: BookmarksDecorator,\n    };\n};\n\nexports.bookmarkPlugin = bookmarkPlugin;\n"]},"metadata":{},"sourceType":"script"}