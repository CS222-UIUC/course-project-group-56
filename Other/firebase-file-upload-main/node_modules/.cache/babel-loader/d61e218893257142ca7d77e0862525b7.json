{"ast":null,"code":"import _slicedToArray from\"/Users/adityaasthana/cs222/firebase-file-upload-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import\"./App.css\";import{useState,useEffect}from\"react\";import{ref,uploadBytes,getDownloadURL,listAll,list}from\"firebase/storage\";import{storage}from\"./firebase\";import{v4}from\"uuid\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),pdfUpload=_useState2[0],setPdfUpload=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),imageUrls=_useState4[0],setImageUrls=_useState4[1];var pdfListRef=ref(storage,\"scheudles/\");var uploadFile=function uploadFile(){if(pdfUpload==null)return;var pdfRef=ref(storage,\"schedules/\".concat(pdfUpload.name+v4()));uploadBytes(pdfRef,pdfUpload).then(function/*snapshot*/(){// getDownloadURL(snapshot.ref).then((url) => {\n//   setImageUrls((prev) => [...prev, url]);\n// });\n});};// useEffect(() => {\n//   listAll(pdfListRef).then((response) => {\n//     response.items.forEach((item) => {\n//       getDownloadURL(item).then((url) => {\n//         setImageUrls((prev) => [...prev, url]);\n//       });\n//     });\n//   });\n// }, []);\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:function onChange(event){setPdfUpload(event.target.files[0]);}}),/*#__PURE__*/_jsx(\"button\",{onClick:uploadFile,children:\" Upload PDF\"})]});}export default App;","map":{"version":3,"sources":["/Users/adityaasthana/cs222/firebase-file-upload-main/src/App.js"],"names":["useState","useEffect","ref","uploadBytes","getDownloadURL","listAll","list","storage","v4","App","pdfUpload","setPdfUpload","imageUrls","setImageUrls","pdfListRef","uploadFile","pdfRef","name","then","event","target","files"],"mappings":"0IAAA,MAAO,WAAP,CACA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,OACEC,GADF,CAEEC,WAFF,CAGEC,cAHF,CAIEC,OAJF,CAKEC,IALF,KAMO,kBANP,CAOA,OAASC,OAAT,KAAwB,YAAxB,CACA,OAASC,EAAT,KAAmB,MAAnB,C,wFAEA,QAASC,CAAAA,GAAT,EAAe,CACb,cAAkCT,QAAQ,CAAC,IAAD,CAA1C,wCAAOU,SAAP,eAAkBC,YAAlB,eACA,eAAkCX,QAAQ,CAAC,EAAD,CAA1C,yCAAOY,SAAP,eAAkBC,YAAlB,eAEA,GAAMC,CAAAA,UAAU,CAAGZ,GAAG,CAACK,OAAD,CAAU,YAAV,CAAtB,CACA,GAAMQ,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACvB,GAAIL,SAAS,EAAI,IAAjB,CAAuB,OACvB,GAAMM,CAAAA,MAAM,CAAGd,GAAG,CAACK,OAAD,qBAAuBG,SAAS,CAACO,IAAV,CAAiBT,EAAE,EAA1C,EAAlB,CACAL,WAAW,CAACa,MAAD,CAASN,SAAT,CAAX,CAA+BQ,IAA/B,CAAoC,QAAC,YAAD,EAAkB,CACpD;AACA;AACA;AACD,CAJD,EAKD,CARD,CAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,mBACE,aAAK,SAAS,CAAC,KAAf,wBACE,cACE,IAAI,CAAC,MADP,CAEE,QAAQ,CAAE,kBAACC,KAAD,CAAW,CACnBR,YAAY,CAACQ,KAAK,CAACC,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAAD,CAAZ,CACD,CAJH,EADF,cAOE,eAAQ,OAAO,CAAEN,UAAjB,yBAPF,GADF,CAcD,CAED,cAAeN,CAAAA,GAAf","sourcesContent":["import \"./App.css\";\nimport { useState, useEffect } from \"react\";\nimport {\n  ref,\n  uploadBytes,\n  getDownloadURL,\n  listAll,\n  list,\n} from \"firebase/storage\";\nimport { storage } from \"./firebase\";\nimport { v4 } from \"uuid\";\n\nfunction App() {\n  const [pdfUpload, setPdfUpload] = useState(null);\n  const [imageUrls, setImageUrls] = useState([]);\n\n  const pdfListRef = ref(storage, \"scheudles/\");\n  const uploadFile = () => {\n    if (pdfUpload == null) return;\n    const pdfRef = ref(storage, `schedules/${pdfUpload.name + v4()}`);\n    uploadBytes(pdfRef, pdfUpload).then((/*snapshot*/) => {\n      // getDownloadURL(snapshot.ref).then((url) => {\n      //   setImageUrls((prev) => [...prev, url]);\n      // });\n    });\n  };\n\n  // useEffect(() => {\n  //   listAll(pdfListRef).then((response) => {\n  //     response.items.forEach((item) => {\n  //       getDownloadURL(item).then((url) => {\n  //         setImageUrls((prev) => [...prev, url]);\n  //       });\n  //     });\n  //   });\n  // }, []);\n\n  return (\n    <div className=\"App\">\n      <input\n        type=\"file\"\n        onChange={(event) => {\n          setPdfUpload(event.target.files[0]);\n        }}\n      />\n      <button onClick={uploadFile}> Upload PDF</button>\n      {/* {imageUrls.map((url) => {\n        return <img src={url} />;\n      })} */}\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}